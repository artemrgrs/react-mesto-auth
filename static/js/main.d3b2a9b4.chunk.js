(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{30:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(20),i=n.n(c),o=(n(30),n(24)),r=n(3),l=n.p+"static/media/logo.03b78ada.svg",u=n(8),d=n(0);var p=function(e){var t=e.location,n=e.email,a=e.loggedIn,s=e.onSignOut;return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("img",{className:"header__logo",src:l,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f Mesto"}),a?Object(d.jsxs)("div",{className:"header__info-container",children:[Object(d.jsx)("p",{className:"header__user-info",children:n}),Object(d.jsx)("button",{className:"header__signout-button",onClick:s,children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(d.jsx)(u.b,{to:"/sign-in"===t.pathname?"/sign-up":"/sign-in",className:"header__link",children:"/sign-in"===t.pathname?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0412\u043e\u0439\u0442\u0438"})]})},h=s.a.createContext();var m=function(e){var t=s.a.useContext(h),n=e.card.owner._id===t._id,a="element__delete-button ".concat(n?"element__delete-button_visible":"element__delete-button_hidden"),c=e.card.likes.some((function(e){return e._id===t._id}))?"element__button element__button_state_active":"element__button";return Object(d.jsxs)("div",{className:"element",children:[Object(d.jsx)("button",{type:"button",className:a,onClick:function(){e.onCardDelete(e.card)}}),Object(d.jsx)("img",{className:"element__image",src:e.card.link,alt:"".concat(e.card.name),onClick:function(){e.onCardClick(e.card)}}),Object(d.jsxs)("div",{className:"element__info",children:[Object(d.jsx)("h2",{className:"element__heading",children:"".concat(e.card.name)}),Object(d.jsxs)("div",{className:"element__like-container",children:[Object(d.jsx)("button",{type:"button",className:c,onClick:function(){e.onCardLike(e.card)}}),Object(d.jsx)("p",{className:"element__like-count",children:"".concat(e.card.likes.length)})]})]})]})};var j=function(e){var t=e.onEditAvatar,n=e.onEditProfile,a=e.onAddPlace,c=e.onCardClick,i=e.cards,o=e.onCardLike,r=e.onCardDelete,l=s.a.useContext(h);return Object(d.jsxs)("main",{children:[Object(d.jsxs)("section",{className:"profile",children:[Object(d.jsx)("div",{className:"profile__edit-cover",onClick:t}),Object(d.jsx)("img",{className:"profile__avatar",src:"".concat(l.avatar),alt:"\u0430\u0432\u0430\u0442\u0430\u0440"}),Object(d.jsxs)("div",{className:"profile__container",children:[Object(d.jsxs)("div",{className:"profile__user-data",children:[Object(d.jsxs)("div",{className:"profile__profile-info",children:[Object(d.jsx)("h1",{className:"profile__name",children:l.name}),Object(d.jsx)("button",{type:"button",onClick:n,className:"profile__edit-button"})]}),Object(d.jsx)("p",{className:"profile__occupation",children:l.about})]}),Object(d.jsx)("button",{type:"button",onClick:a,className:"profile__add-button"})]})]}),Object(d.jsx)("section",{className:"elements",children:i.map((function(e){return Object(d.jsx)(m,{card:e,onCardClick:c,onCardLike:o,onCardDelete:r},e._id)}))})]})};var f=function(){return Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("p",{className:"footer__copyright",children:"\xa9 2021 Mesto Russia"})})};var b=function(e){return Object(d.jsx)("div",{className:"popup ".concat(e.name," ").concat(e.isOpen?"popup_is-opened":" "),children:Object(d.jsxs)("div",{className:"popup__container",children:[Object(d.jsx)("button",{type:"button",className:"popup__close",onClick:e.onClose}),Object(d.jsxs)("form",{className:"form",name:e.name,onSubmit:e.onSubmit,children:[Object(d.jsx)("h2",{className:"form__heading",children:e.title}),e.children,Object(d.jsx)("button",{type:"submit",className:"form__save-button",children:e.button})]})]})})};var O=function(e){var t=s.a.useState(""),n=Object(r.a)(t,2),a=n[0],c=n[1],i=s.a.useState(""),o=Object(r.a)(i,2),l=o[0],u=o[1];return s.a.useEffect((function(){c(""),u("")}),[e.isOpen]),Object(d.jsx)(b,{title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"card-popup",button:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onAddCard({name:a,link:l}),c(""),u("")},children:Object(d.jsxs)("fieldset",{className:"form__user-info",children:[Object(d.jsx)("input",{id:"title",type:"text",className:"form__field form__field_data_title",name:"name",value:a||"",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",required:!0,minLength:"2",maxLength:"40",onChange:function(e){c(e.target.value)}}),Object(d.jsx)("span",{id:"title-error",className:"form__error",children:"\u0412\u044b \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u044d\u0442\u043e \u043f\u043e\u043b\u0435."}),Object(d.jsx)("input",{id:"link",type:"url",className:"form__field form__field_data_link",name:"link",value:l||"",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0,onChange:function(e){u(e.target.value)}}),Object(d.jsx)("span",{id:"link-error",className:"form__error",children:"\u0412\u044b \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u044d\u0442\u043e \u043f\u043e\u043b\u0435."})]})})};var g=function(e){var t=s.a.useContext(h),n=s.a.useState(""),a=Object(r.a)(n,2),c=a[0],i=a[1],o=s.a.useState(""),l=Object(r.a)(o,2),u=l[0],p=l[1];return s.a.useEffect((function(){i(t.name),p(t.about)}),[t,e.isOpen]),Object(d.jsx)(b,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"profile-popup",button:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:c,about:u})},children:Object(d.jsxs)("fieldset",{className:"form__user-info",children:[Object(d.jsx)("input",{id:"name",type:"text",className:"form__field form__field_data_name",name:"name",value:c||"",placeholder:"\u0418\u043c\u044f",required:!0,minLength:"2",maxLength:"40",onChange:function(e){i(e.target.value)}}),Object(d.jsx)("span",{id:"name-error",className:"form__error"}),Object(d.jsx)("input",{id:"occupation",type:"text",className:"form__field form__field_data_occupation",name:"about",value:u||"",placeholder:"\u0417\u0430\u043d\u044f\u0442\u0438\u0435",required:!0,minLength:"2",maxLength:"200",onChange:function(e){p(e.target.value)}}),Object(d.jsx)("span",{id:"occupation-error",className:"form__error",children:"\u0412\u044b \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u044d\u0442\u043e \u043f\u043e\u043b\u0435."})]})})};var v=function(e){var t=s.a.useRef("");return s.a.useEffect((function(){t.current.value=""}),[e.isOpen]),Object(d.jsx)(b,{title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"avatar-popup",button:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(n){n.preventDefault(),e.onUpdateAvatar({avatar:t.current.value})},children:Object(d.jsxs)("fieldset",{className:"form__user-info",children:[Object(d.jsx)("input",{id:"avatar-link",type:"url",className:"form__field form__field_data_link",name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0,ref:t}),Object(d.jsx)("span",{id:"avatar-link-error",className:"form__error",children:"\u0412\u044b \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u044d\u0442\u043e \u043f\u043e\u043b\u0435."})]})})};var x=function(e){var t,n;return Object(d.jsx)("div",{className:"popup image-popup ".concat(e.card?"popup_is-opened":" "),children:Object(d.jsxs)("div",{className:"popup__container popup__container_function_image",children:[Object(d.jsx)("button",{type:"button",className:"popup__close",onClick:e.onClose}),Object(d.jsxs)("figure",{className:"popup__figure",children:[Object(d.jsx)("img",{className:"popup__image",src:null===(t=e.card)||void 0===t?void 0:t.link,alt:null===(n=e.card)||void 0===n?void 0:n.name}),Object(d.jsx)("figcaption",{className:"popup__caption",children:e.card?e.card.name:""})]})]})})},_=n(22),A=n(23),C=new(function(){function e(t){Object(_.a)(this,e),this._url=t.url,this._headers=t.headers}return Object(A.a)(e,[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getProfileInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._handleResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._handleResponse)}},{key:"getAllNeededData",value:function(){return Promise.all([this.getProfileInfo(),this.getInitialCards()])}},{key:"setProfileInfo",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._handleResponse)}},{key:"changeLikeCardStatus",value:function(e,t){return t?fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._handleResponse):fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"addCard",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._handleResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e._id),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"setProfileAvatar",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._handleResponse)}}]),e}())({url:"https://mesto.nomoreparties.co/v1/cohort-23",headers:{authorization:"1ad7ccec-ea6a-44a0-b5d9-0e1200b1fa62","Content-type":"application/json"}}),N="https://auth.nomoreparties.co",k=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))},w=n(11),S=n(9);var y=function(e){var t=e.handleLogin,n=s.a.useState({password:"",email:""}),a=Object(r.a)(n,2),c=a[0],i=a[1];function o(e){var t=e.target,n=t.name,a=t.value;i(Object(S.a)(Object(S.a)({},c),{},Object(w.a)({},n,a)))}return Object(d.jsxs)("form",{className:"auth-form",onSubmit:function(e){e.preventDefault();var n=c.email,a=c.password;t(n,a)},children:[Object(d.jsx)("h2",{className:"auth-form__heading",children:"\u0412\u0445\u043e\u0434"}),Object(d.jsxs)("fieldset",{className:"auth-form__fieldset",children:[Object(d.jsx)("input",{className:"auth-form__input",id:"email",name:"email",type:"email",value:c.email,required:!0,placeholder:"Email",onChange:o}),Object(d.jsx)("input",{className:"auth-form__input",id:"password",name:"password",type:"password",value:c.password,required:!0,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:o})]}),Object(d.jsx)("button",{type:"submit",className:"auth-form__button",children:"\u0412\u043e\u0439\u0442\u0438"})]})};var E=function(e){var t=e.handleRegister,n=s.a.useState({password:"",email:""}),a=Object(r.a)(n,2),c=a[0],i=a[1];function o(e){var t=e.target,n=t.name,a=t.value;i(Object(S.a)(Object(S.a)({},c),{},Object(w.a)({},n,a)))}return Object(d.jsxs)("form",{className:"auth-form",onSubmit:function(e){e.preventDefault();var n=c.email,a=c.password;t(n,a)},children:[Object(d.jsx)("h2",{className:"auth-form__heading",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(d.jsxs)("fieldset",{className:"auth-form__fieldset",children:[Object(d.jsx)("input",{className:"auth-form__input",id:"email",name:"email",type:"email",value:c.email,required:!0,placeholder:"Email",onChange:o}),Object(d.jsx)("input",{className:"auth-form__input",id:"password",name:"password",type:"password",value:c.password,required:!0,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:o})]}),Object(d.jsx)("button",{type:"submit",className:"auth-form__button",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(d.jsx)(u.b,{to:"/sign-in",className:"auth-form__link",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"})]})},R=n(25),I=n(2),W=function(e){var t=e.component,n=Object(R.a)(e,["component"]);return Object(d.jsx)(I.b,{children:function(){return!0===n.loggedIn?Object(d.jsx)(t,Object(S.a)({},n)):Object(d.jsx)(I.a,{to:"./sign-in"})}})};var J=function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"popup ".concat(e.isOpen?"popup_is-opened":" "),children:Object(d.jsxs)("div",{className:"popup__container popup__container_function_auth-status",children:[Object(d.jsx)("button",{type:"button",className:"popup__close",onClick:e.onClose}),Object(d.jsx)("img",{src:e.signedUp?"data:image/png;base64,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":"data:image/png;base64,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",alt:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"}),Object(d.jsx)("h2",{className:"popup__heading popup__heading_function_auth-status",children:e.signedUp?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."})]})})})};var L=function(){var e=s.a.useState(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],c=s.a.useState(!1),i=Object(r.a)(c,2),l=i[0],u=i[1],m=s.a.useState(!1),b=Object(r.a)(m,2),_=b[0],A=b[1],w=s.a.useState(null),S=Object(r.a)(w,2),R=S[0],L=S[1],V=s.a.useState({}),H=Object(r.a)(V,2),B=H[0],P=H[1],z=s.a.useState([]),T=Object(r.a)(z,2),Z=T[0],Q=T[1],U=s.a.useState(!1),K=Object(r.a)(U,2),X=K[0],q=K[1],D=s.a.useState(!1),G=Object(r.a)(D,2),F=G[0],Y=G[1],M=s.a.useState(""),$=Object(r.a)(M,2),ee=$[0],te=$[1],ne=s.a.useState(!1),ae=Object(r.a)(ne,2),se=ae[0],ce=ae[1],ie=Object(I.g)(),oe=Object(I.h)();function re(){a(!1),u(!1),A(!1),L(null),ce(!1)}return s.a.useEffect((function(){C.getProfileInfo().then((function(e){P(e)})).catch((function(e){return console.log(e)}))}),[]),s.a.useEffect((function(){C.getInitialCards().then((function(e){Q(e)})).catch((function(e){return console.log(e)}))}),[]),s.a.useEffect((function(){!function(){var e=localStorage.getItem("jwt");e&&(t=e,fetch("".concat(N,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(k)).then((function(e){te(e.data.email),q(!0),ie.push("/")}));var t}()}),[]),Object(d.jsx)(h.Provider,{value:B,children:Object(d.jsx)("div",{className:"root",children:Object(d.jsxs)("div",{className:"page",children:[Object(d.jsx)(p,{location:oe,email:ee,loggedIn:X,onSignOut:function(){localStorage.removeItem("jwt"),q(!1),ie.push("/sign-in")}}),Object(d.jsxs)(I.d,{children:[Object(d.jsx)(W,{exact:!0,path:"/",loggedIn:X,component:j,onEditAvatar:function(){a(!0)},onEditProfile:function(){u(!0)},onAddPlace:function(){A(!0)},onCardClick:function(e){L(e)},cards:Z,onCardLike:function(e){var t=e.likes.some((function(e){return e._id===B._id}));C.changeLikeCardStatus(e._id,!t).then((function(t){Q((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return console.log(e)}))},onCardDelete:function(e){C.deleteCard(e).then((function(){Q((function(t){return t.filter((function(t){return t._id!==e._id}))}))})).catch((function(e){return console.log(e)}))}}),Object(d.jsx)(I.b,{path:"/sign-up",children:Object(d.jsx)(E,{handleRegister:function(e,t){(function(e,t){return fetch("".concat(N,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(k)})(e,t).then((function(e){e&&(Y(!0),ce(!0),ie.push("/sign-in"))})).catch((function(e){Y(!1),ce(!0),console.log(e)}))}})}),Object(d.jsx)(I.b,{path:"/sign-in",children:Object(d.jsx)(y,{handleLogin:function(e,t){(function(e,t){return fetch("".concat(N,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(k)})(e,t).then((function(t){t.token&&(te(e),localStorage.setItem("jwt",t.token),q(!0),ie.push("/"))})).catch((function(e){return console.log(e)}))}})})]}),Object(d.jsx)(f,{}),Object(d.jsx)(v,{isOpen:n,onClose:re,onUpdateAvatar:function(e){C.setProfileAvatar(e).then((function(e){P(e),re()})).catch((function(e){return console.log(e)}))}}),Object(d.jsx)(g,{isOpen:l,onClose:re,onUpdateUser:function(e){C.setProfileInfo(e).then((function(e){P(e),re()})).catch((function(e){return console.log(e)}))}}),Object(d.jsx)(O,{isOpen:_,onClose:re,onAddCard:function(e){C.addCard(e).then((function(e){Q([e].concat(Object(o.a)(Z))),re()})).catch((function(e){return console.log(e)}))}}),Object(d.jsx)(x,{card:R,onClose:re}),Object(d.jsx)(J,{isOpen:se,onClose:re,signedUp:F})]})})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(u.a,{children:Object(d.jsx)(L,{})})}),document.getElementById("root")),V()}},[[37,1,2]]]);
//# sourceMappingURL=main.d3b2a9b4.chunk.js.map