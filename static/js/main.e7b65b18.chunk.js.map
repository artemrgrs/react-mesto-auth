{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","utils/api.js","utils/auth.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","images/auth-success.png","images/auth-failure.png","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","loggedIn","onSignOut","location","useLocation","className","src","headerLogo","alt","onClick","to","pathname","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","cardLikeButtonClassName","likes","some","i","type","onCardDelete","link","name","onCardClick","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","Footer","PopupWithForm","isOpen","onClose","onSubmit","title","children","button","AddPlacePopup","useState","placeValue","setPlaceValue","placeLinkValue","setPlaceLinkValue","useEffect","e","preventDefault","onAddCard","id","value","placeholder","required","minLength","maxLength","onChange","target","EditProfilePopup","setName","description","setDescription","onUpdateUser","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","ImagePopup","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","credentials","then","_handleResponse","all","getProfileInfo","getInitialCards","user","method","body","JSON","stringify","isLiked","data","authorization","BASE_URL","handleResponse","Login","handleLogin","password","setData","handleChange","Register","handleRegister","ProtectedRoute","Component","component","InfoTooltip","signedUp","App","isEditAvatarPopupOpen","setEditAvatarPopup","isEditProfilePopupOpen","setEditProfilePopup","isAddPlacePopupOpen","setEditPlacePopup","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setSignedUp","setEmail","isInfoToolTipOpen","setIsInfoToolTipOpen","history","useHistory","closeAllPopups","jwt","localStorage","getItem","token","push","catch","err","console","log","tokenCheck","getAllNeededData","userData","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","state","c","deleteCard","filter","register","authorize","setItem","setProfileAvatar","setProfileInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e7b65b18.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from 'react';\nimport headerLogo from '../images/logo.svg';\nimport { Link, useLocation } from 'react-router-dom'; \n\nfunction Header({ email, loggedIn, onSignOut }) {\n  const location = useLocation();\n  \n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={headerLogo} alt=\"Логотип Mesto\"/>\n      {loggedIn ? (\n      \n        <div className=\"header__info-container\">\n          <p className=\"header__user-info\">{email}</p>\n          <button className='header__signout-button' onClick={onSignOut}>Выйти</button>\n        </div>\n          \n        ) : ( \n          <Link to={location.pathname === \"/sign-in\" ? '/sign-up' : '/sign-in'}\n            className=\"header__link\">{location.pathname === \"/sign-in\" ? 'Регистрация' : 'Войти'}</Link> \n        )\n      }\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const isOwn = props.card.owner._id === currentUser._id;\n    const cardDeleteButtonClassName = (\n    `element__delete-button ${isOwn ? 'element__delete-button_visible' : 'element__delete-button_hidden'}`\n    );\n\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n    const cardLikeButtonClassName = isLiked ? \"element__button element__button_state_active\" : \"element__button\"; \n\n    function handleCardClick() {\n        props.onCardClick(props.card);\n    }  \n\n    function handleLikeClick() {\n        props.onCardLike(props.card);\n    } \n    \n    function handleDeleteClick() {\n        props.onCardDelete(props.card);\n    } \n\n    return (\n        <div className=\"element\">\n              <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n                  <img className=\"element__image\" src={props.card.link} alt={`${props.card.name}`} onClick={handleCardClick}/>\n              <div className=\"element__info\">\n                  <h2 className=\"element__heading\">{`${props.card.name}`}</h2>\n                  <div className=\"element__like-container\">\n                      <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n                      <p className=\"element__like-count\">{`${props.card.likes.length}`}</p>\n                  </div>\n              </div>\n          </div>\n    )\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete}) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n        <section className=\"profile\">\n            <div className=\"profile__edit-cover\" onClick={onEditAvatar}></div>\n                <img className=\"profile__avatar\" src={`${currentUser.avatar}`} alt=\"аватар\"/>\n            <div className=\"profile__container\">\n                <div className=\"profile__user-data\">\n                    <div className=\"profile__profile-info\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button type=\"button\" onClick={onEditProfile} className=\"profile__edit-button\"></button>\n                    </div>\n                    <p className=\"profile__occupation\">{currentUser.about}</p>\n                </div>\n                <button type=\"button\" onClick={onAddPlace} className=\"profile__add-button\"></button>\n            </div>\n        </section>\n\n        <section className=\"elements\">\n            {cards.map(card => (\n                <Card \n                    card={card}\n                    key={card._id}\n                    onCardClick={onCardClick}\n                    onCardLike={onCardLike}\n                    onCardDelete={onCardDelete}\n                    />\n            ))\n            }\n        </section>\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n        <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup ${props.name} ${props.isOpen ? 'popup_is-opened' : ' '}`}>\n        <div className=\"popup__container\">\n            <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\n            <form className=\"form\" name={props.name} onSubmit={props.onSubmit}>\n            <h2 className=\"form__heading\">{props.title}</h2>\n            {props.children}\n            <button type=\"submit\" className=\"form__save-button\">{props.button}</button>\n            </form>\n        </div>\n    </div> \n  );\n}\n\nexport default PopupWithForm;           ","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n    const [placeValue, setPlaceValue] = React.useState('');\n\n    function handlePlaceChange(e) {\n        setPlaceValue(e.target.value);\n    }\n\n    const [placeLinkValue, setPlaceLinkValue] = React.useState('');\n\n    function handlePlaceLinkChange(e) {\n        setPlaceLinkValue(e.target.value);\n    }\n\n    React.useEffect(() => {\n        setPlaceValue('')\n        setPlaceLinkValue('')\n      },[props.isOpen]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onAddCard({\n          name: placeValue,\n          link: placeLinkValue\n        });\n        setPlaceLinkValue('')\n      }\n\n    return (\n        <PopupWithForm title=\"Новое место\" name=\"card-popup\" button=\"Создать\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <fieldset className=\"form__user-info\">\n                <input id=\"title\" type=\"text\" className=\"form__field form__field_data_title\"\n                    name=\"name\" value={placeValue || ''} placeholder=\"Название\" required minLength=\"2\" maxLength=\"40\" onChange={handlePlaceChange}/>\n                <span id=\"title-error\" className=\"form__error\">Вы пропустили это поле.</span>\n                <input id=\"link\" type=\"url\" className=\"form__field form__field_data_link\"\n                    name=\"link\" value={placeLinkValue || ''} placeholder=\"Ссылка на картинку\"  required onChange={handlePlaceLinkChange}/>\n                <span id=\"link-error\" className=\"form__error\">Вы пропустили это поле.</span>\n            </fieldset>\n        </PopupWithForm>\n    );\n\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    React.useEffect(() => {\n        setName(currentUser.name)\n        setDescription(currentUser.about)\n        },[currentUser, props.isOpen]);\n\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateUser({\n          name,\n          about: description,\n        });\n      }\n\n    return (\n        <PopupWithForm title=\"Редактировать профиль\" name=\"profile-popup\" button=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <fieldset className=\"form__user-info\">\n                <input id=\"name\" type=\"text\" className=\"form__field form__field_data_name\"\n                    name=\"name\" value={name || ''} placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" onChange={handleNameChange}/>\n                <span id=\"name-error\" className=\"form__error\"></span>\n                <input id=\"occupation\" type=\"text\" className=\"form__field form__field_data_occupation\"\n                    name=\"about\" value={description || ''} placeholder=\"Занятие\" required minLength=\"2\" maxLength=\"200\" onChange={handleDescriptionChange}/>\n                <span id=\"occupation-error\" className=\"form__error\">Вы пропустили это поле.</span>\n            </fieldset>\n        </PopupWithForm>\n      );\n    }\n    \n    export default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n    const avatarRef = React.useRef();\n\n    React.useEffect(() => {\n        avatarRef.current.value = \"\"\n      },[props.isOpen]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateAvatar({\n          avatar: avatarRef.current.value,\n        });\n      }\n\n    return (\n        <PopupWithForm title=\"Обновить аватар\" name=\"avatar-popup\" button=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <fieldset className=\"form__user-info\">\n                <input id=\"avatar-link\" type=\"url\" className=\"form__field form__field_data_link\"\n                    name=\"link\" placeholder=\"Ссылка на картинку\"  required ref={avatarRef}/>\n                <span id=\"avatar-link-error\" className=\"form__error\">Вы пропустили это поле.</span>\n            </fieldset>\n        </PopupWithForm>\n    );\n\n}\n\nexport default EditAvatarPopup;","import React from 'react';\n\nfunction ImagePopup(props) {\n  return (\n        <div className={`popup image-popup ${props.card ? 'popup_is-opened' : ' '}`}>\n            <div className=\"popup__container popup__container_function_image\">\n                <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\n                <figure className=\"popup__figure\">\n                    <img className=\"popup__image\"  src={props.card?.link} alt={props.card?.name}/>\n                    <figcaption className=\"popup__caption\">{props.card ? props.card.name : \"\"}</figcaption>\n                </figure>\n            </div>\n        </div>\n    );\n}\n\nexport default ImagePopup;","class Api {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n\n    _handleResponse(res) {\n        if(res.ok) {\n            return res.json();\n            }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    getProfileInfo() {\n        return fetch(`${this._url}/users/me`, {\n            headers: this._headers,\n            credentials: 'include'\n        })\n        .then(this._handleResponse);\n    }\n\n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            headers: this._headers,\n            credentials: 'include'\n        })\n        .then(this._handleResponse);\n    }\n\n    getAllNeededData() {\n        return Promise.all([this.getProfileInfo(), this.getInitialCards()]);\n      }\n\n    setProfileInfo(user) {\n        return fetch(`${this._url}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            credentials: 'include',\n            body: JSON.stringify({\n              name: user.name,\n              about: user.about\n            })\n        })\n        .then(this._handleResponse);\n    }\n\n    changeLikeCardStatus(id, isLiked) {\n        if(!isLiked) {\n            return fetch(`${this._url}/cards/likes/${id}`, {\n                method: 'DELETE',\n                headers: this._headers,\n                credentials: 'include'\n            })\n            .then(this._handleResponse);\n        } else {\n            return fetch(`${this._url}/cards/likes/${id}`, {\n                method: 'PUT',\n                headers: this._headers,\n                credentials: 'include'\n            })\n            .then(this._handleResponse);\n        }\n    }\n\n    addCard(data) {\n        return fetch(`${this._url}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            credentials: 'include',\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            }),\n        })\n        .then(this._handleResponse);\n    }\n\n    deleteCard(card) {\n        return fetch(`${this._url}/cards/${card._id}`, {\n            method: 'DELETE',\n            headers: this._headers,\n            credentials: 'include'\n        })\n        .then(this._handleResponse);\n    }\n\n    setProfileAvatar(user) {\n        return fetch(`${this._url}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            credentials: 'include',\n            body: JSON.stringify({\n                avatar: user.avatar\n            })\n        })\n        .then(this._handleResponse);\n    }\n}\n\nconst api = new Api({\n    url: 'https://api.artemrgrs.nomoredomains.work',\n    headers: {\n      authorization: '1ad7ccec-ea6a-44a0-b5d9-0e1200b1fa62',\n      \"Content-type\": \"application/json\"\n    }\n  });\n\nexport default api;","export const BASE_URL = 'https://api.artemrgrs.nomoredomains.work';\n\nconst handleResponse = res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`);\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      \"Content-Type\": \"application/json\"\n    },\n    credentials: 'include',\n    body: JSON.stringify({email, password})\n  })\n  .then(handleResponse)\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include',\n    body: JSON.stringify({email, password})\n  })\n  .then(handleResponse)\n};\n\nexport const getUserData = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    },\n    credentials: 'include'\n  })\n  .then(handleResponse)\n}","import React from 'react';\n\nfunction Login({handleLogin}) {\n    const [data, setData] = React.useState({\n        password: '',\n        email: '',\n      });\n\n    function handleChange(e) {\n    const {name, value} = e.target;\n        setData({\n            ...data,\n            [name]: value\n        })\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        const {email, password} = data;\n        handleLogin(email, password);\n    }\n\n    return (\n        <form className=\"auth-form\" onSubmit={handleSubmit}>\n            <h2 className=\"auth-form__heading\">Вход</h2>\n            <fieldset className=\"auth-form__fieldset\">\n                <input className=\"auth-form__input\" id=\"email\" name=\"email\" type=\"email\" value={data.email} required placeholder=\"Email\" onChange={handleChange} />\n                <input className=\"auth-form__input\" id=\"password\" name=\"password\" type=\"password\" value={data.password} required placeholder=\"Пароль\" onChange={handleChange} />\n            </fieldset>\n            <button type=\"submit\" className=\"auth-form__button\">Войти</button>\n        </form>\n    );\n  }\n  \n  export default Login;   ","import React from 'react';\nimport { Link } from 'react-router-dom'; \n\nfunction Register({handleRegister}) {\n    const [data, setData] = React.useState({\n        password: '',\n        email: '',\n      });\n\n    function handleChange(e) {\n    const {name, value} = e.target;\n        setData({\n            ...data,\n            [name]: value\n        })\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        const {email, password} = data;\n        handleRegister(email, password);\n    }\n\n  return (\n        <form className=\"auth-form\" onSubmit={handleSubmit}>\n            <h2 className=\"auth-form__heading\">Регистрация</h2>\n            <fieldset className=\"auth-form__fieldset\">\n                <input className=\"auth-form__input\" id=\"email\" name=\"email\" type=\"email\" value={data.email} required placeholder=\"Email\" onChange={handleChange} />\n                <input className=\"auth-form__input\" id=\"password\" name=\"password\" type=\"password\" value={data.password} required placeholder=\"Пароль\" onChange={handleChange} />\n            </fieldset>\n            <button type=\"submit\" className=\"auth-form__button\">Зарегистрироваться</button>\n            <Link to=\"/sign-in\" className=\"auth-form__link\">Уже зарегистрированы? Войти</Link>\n        </form>\n  );\n}\n\nexport default Register;  ","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","import React from 'react';\nimport authSuccessLogo from '../images/auth-success.png';\nimport authFailureLofo from '../images/auth-failure.png';\n\nfunction InfoTooltip(props) {\n    return (\n        <div className={`popup ${props.isOpen ? 'popup_is-opened' : ' '}`}>\n            <div className=\"popup__container popup__container_function_auth-status\">\n                <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\n                <img src={props.signedUp ? authSuccessLogo : authFailureLofo} alt=\"Статус регистрации\"/>\n                <h2 className=\"popup__heading popup__heading_function_auth-status\">{props.signedUp ? 'Вы успешно зарегистрировались!'\n                    : 'Что-то пошло не так! Попробуйте ещё раз.' }</h2>\n            </div>\n        </div> \n      );\n  }\n  \nexport default InfoTooltip;","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from \"../utils/api\";\nimport { register, authorize, getUserData } from \"../utils/auth\";\n\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport { Route, Switch, useHistory } from 'react-router-dom';\n\nfunction App() {\n    const [isEditAvatarPopupOpen, setEditAvatarPopup] = React.useState(false);\n    const [isEditProfilePopupOpen, setEditProfilePopup] = React.useState(false);\n    const [isAddPlacePopupOpen, setEditPlacePopup] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState(null);\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [cards, setCards] = React.useState([]);\n    const [loggedIn, setLoggedIn] = React.useState(false);\n    const [signedUp, setSignedUp] = React.useState(false);\n    const [email, setEmail] = React.useState('');\n    const [isInfoToolTipOpen, setIsInfoToolTipOpen] = React.useState(false);\n\n    const history = useHistory();\n\n    React.useEffect(() => {\n            tokenCheck();\n        },[]);\n    \n    React.useEffect(() => {\n        api.getAllNeededData()\n        .then(res => {\n            const [userData, cards] = res;\n            setCurrentUser(userData);\n            setCards(cards);\n        })\n        .catch((err) => console.log(err));\n    },[]);\n    \n\n    function handleEditAvatarClick() {\n        setEditAvatarPopup(true);\n    }\n    \n    function handleEditProfileClick() {\n        setEditProfilePopup(true);\n    } \n\n    function handleAddPlaceClick() {\n        setEditPlacePopup(true);\n    } \n\n    function handleCardClick(props) {\n        setSelectedCard(props);\n    } \n\n    function closeAllPopups() {\n        setEditAvatarPopup(false);\n        setEditProfilePopup(false);\n        setEditPlacePopup(false);\n        setSelectedCard(null);\n        setIsInfoToolTipOpen(false);\n    }\n\n    function handleUpdateUser(user) {\n        api.setProfileInfo(user)\n        .then(res => {\n            setCurrentUser(res);\n            closeAllPopups();\n          })\n          .catch((err) => console.log(err));\n    }\n    \n    function handleUpdateAvatar(user) {\n        api.setProfileAvatar(user)\n        .then(res => {\n            setCurrentUser(res);\n            closeAllPopups();\n        })\n        .catch((err) => console.log(err));\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        \n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch((err) => console.log(err));\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card)\n        .then(() => {\n            setCards((state) => state.filter((c) => c._id !== card._id))\n        })\n        .catch((err) => console.log(err));\n    }\n\n    function handleAddCard(card) {\n        api.addCard(card)\n        .then(res => {\n            setCards([res, ...cards])\n            closeAllPopups();\n        })\n        .catch((err) => console.log(err));\n    }\n\n    function handleRegister(email, password) {\n        register(email, password)\n            .then(res => {\n                if(res) {\n                    setSignedUp(true);\n                    setIsInfoToolTipOpen(true);\n                    history.push('/sign-in');\n                }\n               \n            })\n            .catch((err) => {\n                setSignedUp(false);\n                setIsInfoToolTipOpen(true);\n                console.log(err)\n            });\n    }\n\n    function handleLogin(email, password) {\n        authorize(email, password)\n            .then(data => {\n                if(data.token) {\n                    setEmail(email)\n                    localStorage.setItem('jwt', data.token);\n                    setLoggedIn(true);\n                    history.push('/');\n                }\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function tokenCheck() {\n        const jwt = localStorage.getItem('jwt');\n        \n        if(jwt) {\n            getUserData(jwt)\n            .then(res => {\n                setEmail(res.data.email);\n                setLoggedIn(true);\n                history.push('/');\n            })\n            .catch((err) => console.log(err));\n        }\n    }\n\n    function onSignOut() {\n        localStorage.removeItem('jwt');\n        setLoggedIn(false);\n        history.push('/sign-in')\n    }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"root\">\n            <div className=\"page\">\n                <Header email={email} loggedIn={loggedIn} onSignOut={onSignOut}/>\n                <Switch>\n                    <ProtectedRoute\n                        exact path=\"/\"\n                        loggedIn={loggedIn}\n                        component={Main}\n                        onEditAvatar={handleEditAvatarClick}\n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n                        onCardClick={handleCardClick}\n                        cards={cards}\n                        onCardLike={handleCardLike}\n                        onCardDelete={handleCardDelete}\n                    />\n                    <Route path=\"/sign-up\">\n                        <Register handleRegister={handleRegister} />                        \n                    </Route>\n                    <Route path=\"/sign-in\">\n                        <Login handleLogin={handleLogin} />\n                    </Route> \n                </Switch>\n                <Footer />\n                <EditAvatarPopup\n                    isOpen={isEditAvatarPopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateAvatar={handleUpdateAvatar}/>\n                <EditProfilePopup \n                    isOpen={isEditProfilePopupOpen} \n                    onClose={closeAllPopups} \n                    onUpdateUser={handleUpdateUser} />\n                <AddPlacePopup \n                    isOpen={isAddPlacePopupOpen} \n                    onClose={closeAllPopups} \n                    onAddCard={handleAddCard} />\n                {/* <PopupWithForm title=\"Вы уверены?\" name=\"popup-delete\" button=\"да\" /> */}\n                <ImagePopup \n                    card={selectedCard} \n                    onClose={closeAllPopups}/>\n                <InfoTooltip \n                    isOpen={isInfoToolTipOpen} \n                    onClose={closeAllPopups}\n                    signedUp ={signedUp} />\n            </div>    \n        </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom'; \n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />    \n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}